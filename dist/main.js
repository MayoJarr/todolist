(()=>{"use strict";const e=(()=>{const e=[];function t(t){return e[t]}return{addProject:function(t){e.push(t)},getProjects:function(){return e},getProject:t,addTask:function(e,c){t(e).name.push(c)},removeTask:function(e,c){t(e).name.splice(c,1)}}})();class t{constructor(e){this.projectName=e}name=[];getProjectName(){return this.projectName}getProjectItems(){return this.name}getProjectTask(e){return this.name[e]}removeTaskByIndex(e){let t;this.name.forEach(((c,n)=>{c.title===e&&(t=n)})),this.name.splice(t,1)}}const c=class{constructor(e,t,c,n){this.title=e,this.desc=t,this.dueDate=c,this.piority=n}complete=!1;edit(e,t,c,n){this.title=e,this.desc=t,this.dueDate=c,this.piority=n}setDone(){this.complete=!0}setUnDone(){this.complete=!1}},n=(()=>{document.querySelector(".sidebar"),document.querySelector(".content");const n=document.querySelector(".taskCreationMenu"),o=document.querySelector(".submit"),s=document.querySelector(".addProjectBtn"),d=document.querySelector(".addTaskBtn"),r=document.querySelector(".tasks"),a=document.querySelector(".project"),i=document.querySelector(".container"),l=document.querySelector(".projectMenu"),u=document.querySelector(".projectSubmit"),m=document.querySelector(".overlay"),p=document.querySelector(".expandedTask"),y=document.querySelector(".projectTitle");function v(e,t){e.classList.add(t),m.classList.add("overlayActive"),i.style.cssText="filter: blur(2px);"}function k(e,t){e.classList.remove(t),m.classList.remove("overlayActive"),i.style.cssText="filter: none;"}function h(){const e=document.querySelector(".taskInfoData"),t=document.querySelector(".taskInfoDataEditable");e.style.cssText="display: block;",t.style.cssText="display: none;"}function f(e){document.querySelectorAll(".button-nav").forEach((e=>{e!==this&&e.classList.remove("active")})),e.classList.add("active")}function x(e){return document.querySelector(`.${e}`).value}function S(){const e=document.querySelectorAll(".button-nav");let t=0,c=0;return e.forEach((e=>{e.classList.contains("active")&&(c=t),t+=1})),c}function q(){a.textContent="",e.getProjects().forEach(((t,c)=>{!function(e){const t=document.querySelector(".project"),c=document.createElement("LI"),n=document.createElement("button");n.textContent=e.getProjectName(),n.classList.add(e.getProjectName()),n.classList.add("button-nav"),t.appendChild(c),c.appendChild(n),n.addEventListener("click",(t=>{t.target.classList.contains("active")||(console.log(`${e.getProjectName()} is clicked`),f(n),r.textContent="",j(S()))}))}(e.getProject(c))}))}function j(t){r.textContent="",e.getProject(t).name.forEach(((c,n)=>{!function(t){const c=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),u=document.createElement("button"),m=document.createElement("input");var y,f;m.type="checkbox",m.classList.add("check"),c.classList.add("task"),u.classList.add("deleteBtn"),n.classList.add("task2"),o.classList.add("task3"),s.textContent=t.title,d.textContent=t.dueDate,u.textContent=" del",r.appendChild(c),c.appendChild(n),n.appendChild(m),n.appendChild(o),o.appendChild(s),o.appendChild(d),o.appendChild(a),o.appendChild(i),c.appendChild(l),l.appendChild(u),u.addEventListener("click",(()=>function(t){e.getProject(S()).removeTaskByIndex(t.title),j(S())}(t))),m.addEventListener("click",(()=>function(e){!1===e.complete?e.setDone():!0===e.complete&&e.setUnDone(),j(S())}(t))),o.addEventListener("click",(()=>function(e){const t=document.querySelector(".title1"),c=document.querySelector(".date1"),n=document.querySelector(".desc1"),o=document.querySelector(".piority1");t.textContent=e.title,c.textContent=e.dueDate,n.textContent=e.desc,o.textContent=e.piority,v(p,"expandedTaskActive");const s=document.querySelector(".edit");s.style.cssText="display:block;",s.addEventListener("click",(()=>function(e){document.querySelector(".edit").style.cssText="display: none";const t=document.querySelector(".taskInfoData"),c=document.querySelector(".taskInfoDataEditable");t.style.cssText="display: none;",c.style.cssText="display: block;",document.querySelector(".submitEdit").addEventListener("click",(t=>{t.preventDefault(),h(),e.edit(n.value,s.value,o.value,d.value),j(S()),k(p,"expandedTaskActive")}));const n=document.querySelector(".suckt"),o=document.querySelector(".suckdd"),s=document.querySelector(".suckd"),d=document.querySelector(".suckp");n.value=e.title,o.value=e.dueDate,s.value=e.desc,d.value=e.piority}(e)))}(t))),!1===t.complete?(s.style.cssText="text-decoration: none;",c.style.cssText="opacity: 1"):!0===t.complete&&(s.style.cssText="text-decoration-line: line-through;",c.style.cssText="opacity: .5"),y=t.piority,f=o,"low"===y&&(f.style.cssText="border-left: 3px solid green"),"medium"===y&&(f.style.cssText="border-left: 3px solid orange"),"high"===y&&(f.style.cssText="border-left: 3px solid red")}(e.getProject(t).getProjectTask(n))})),y.textContent=e.getProject(S()).getProjectName()}return{init:function(){const r=new t("Home"),a=new t("Today"),i=new t("Week");e.addProject(r),e.addProject(a),e.addProject(i),q(),f(document.querySelector(".Home")),e.addTask(S(),new c("task1","desc","20-02-2023","low")),e.addTask(S(),new c("task2","desc","20-02-2023","medium")),e.addTask(S(),new c("task3","desc","20-02-2023","high")),j(S()),d.addEventListener("click",(()=>v(n,"fade"))),o.addEventListener("click",(t=>{t.preventDefault(),k(n,"fade"),e.addTask(S(),new c(x("title"),x("desc"),x("date"),x("piority"))),j(S())})),s.addEventListener("click",(()=>{v(l,"projectMenuActive")})),u.addEventListener("click",(c=>{c.preventDefault(),e.addProject(new t(x("projectName"))),q(),k(l,"projectMenuActive")})),m.addEventListener("click",(()=>{k(n,"fade"),k(l,"projectMenuActive"),k(p,"expandedTaskActive"),h()}))}}})();n.init()})();