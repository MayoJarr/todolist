(()=>{"use strict";const e=(()=>{const e=[];function t(t){return e[t]}return{addProject:function(t){e.push(t)},getProjects:function(){return e},getProject:t,addTask:function(e,n){t(e).name.push(n)},removeTask:function(e,n){t(e).name.splice(n,1)}}})();class t{constructor(e){this.projectName=e}name=[];getProjectName(){return this.projectName}getProjectItems(){return this.name}getProjectTask(e){return this.name[e]}removeTaskByIndex(e){let t;this.name.forEach(((n,c)=>{n.title===e&&(t=c)})),this.name.splice(t,1)}}const n=(()=>{document.querySelector(".sidebar"),document.querySelector(".content");const n=document.querySelector(".taskCreationMenu"),c=document.querySelector(".submit"),o=document.querySelector(".addProjectBtn"),d=document.querySelector(".addTaskBtn"),r=document.querySelector(".tasks"),i=document.querySelector(".project"),s=document.querySelector(".container"),a=document.querySelector(".projectMenu"),l=document.querySelector(".projectSubmit"),u=document.querySelector(".overlay"),m=document.querySelector(".expandedTask");function p(e,t){e.classList.add(t),u.classList.add("overlayActive"),s.style.cssText="filter: blur(2px);"}function v(e,t){e.classList.remove(t),u.classList.remove("overlayActive"),s.style.cssText="filter: none;"}function y(e){document.querySelectorAll(".button-nav").forEach((e=>{e!==this&&e.classList.remove("active")})),e.classList.add("active")}function h(e){return document.querySelector(`.${e}`).value}function f(){const e=document.querySelectorAll(".button-nav");let t=0,n=0;return e.forEach((e=>{e.classList.contains("active")&&(n=t),t+=1})),n}function j(){i.textContent="",e.getProjects().forEach(((t,n)=>{!function(e){const t=document.querySelector(".project"),n=document.createElement("LI"),c=document.createElement("button");c.textContent=e.getProjectName(),c.classList.add(e.getProjectName()),c.classList.add("button-nav"),t.appendChild(n),n.appendChild(c),c.addEventListener("click",(t=>{t.target.classList.contains("active")||(console.log(`${e.getProjectName()} is clicked`),y(c),r.textContent="",k(f()))}))}(e.getProject(n))}))}function k(t){r.textContent="",e.getProject(t).name.forEach(((n,c)=>{!function(t){const n=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),u=document.createElement("button"),v=document.createElement("button"),y=document.createElement("input");y.type="checkbox",y.classList.add("check"),n.classList.add("task"),u.classList.add("deleteBtn"),c.classList.add("task2"),o.classList.add("task3"),d.textContent=t.title,i.textContent=t.dueDate,u.textContent=" del",v.textContent="edit ",r.appendChild(n),n.appendChild(c),c.appendChild(y),c.appendChild(o),o.appendChild(d),o.appendChild(i),o.appendChild(s),o.appendChild(a),n.appendChild(l),l.appendChild(v),l.appendChild(u),v.addEventListener("click",(()=>function(e){e.edit("editedTitle","desc"),k(f())}(t))),u.addEventListener("click",(()=>function(t){e.getProject(f()).removeTaskByIndex(t.title),k(f())}(t))),y.addEventListener("click",(()=>function(e){!1===e.complete?e.setDone():!0===e.complete&&e.setUnDone(),k(f())}(t))),o.addEventListener("click",(()=>function(e){const t=document.querySelector(".title1"),n=document.querySelector(".date1"),c=document.querySelector(".desc1"),o=document.querySelector(".piority1");t.textContent=e.title,n.textContent=e.dueDate,c.textContent=e.desc,o.textContent=e.piority,p(m,"expandedTaskActive")}(t))),!1===t.complete?(d.style.cssText="text-decoration: none;",n.style.cssText="opacity: 1"):!0===t.complete&&(d.style.cssText="text-decoration-line: line-through;",n.style.cssText="opacity: .5")}(e.getProject(t).getProjectTask(c))}))}return{init:function(){const r=new t("Home"),i=new t("Today"),s=new t("Week");e.addProject(r),e.addProject(i),e.addProject(s),j(),y(document.querySelector(".Home")),d.addEventListener("click",(()=>p(n,"fade"))),c.addEventListener("click",(t=>{t.preventDefault(),v(n,"fade"),e.addTask(f(),new class{constructor(e,t,n,c){this.title=e,this.desc=t,this.dueDate=n,this.piority=c}complete=!1;edit(e,t){this.title=e,this.desc=t}setDone(){this.complete=!0}setUnDone(){this.complete=!1}}(h("title"),h("desc"),h("date"),h("piority"))),k(f())})),o.addEventListener("click",(()=>{p(a,"projectMenuActive")})),l.addEventListener("click",(n=>{n.preventDefault(),e.addProject(new t(h("projectName"))),j(),v(a,"projectMenuActive")})),u.addEventListener("click",(()=>{v(n,"fade"),v(a,"projectMenuActive"),v(m,"expandedTaskActive")}))}}})();n.init()})();